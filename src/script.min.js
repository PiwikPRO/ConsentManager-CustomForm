!function(){function t(e,n,r){function o(i,c){if(!n[i]){if(!e[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(t){return o(e[i][1][t]||t)},p,p.exports,t,e,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}return t}()({1:[function(t,e,n){"use strict";var r=t("object-keys"),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,i=Array.prototype.concat,c=Object.defineProperty,a=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)},u=c&&function(){var t={};try{c(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),p=function(t,e,n,r){(!(e in t)||a(r)&&r())&&(u?c(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},s=r(e);o&&(s=i.call(s,Object.getOwnPropertySymbols(e)));for(var c=0;c<s.length;c+=1)p(t,s[c],e[s[c]],n[s[c]])};l.supportsDescriptors=!!u,e.exports=l},{"object-keys":5}],2:[function(t,e,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,s=r.call(arguments,1),i=function(){if(this instanceof n){var o=e.apply(this,s.concat(r.call(arguments)));return Object(o)===o?o:this}return e.apply(t,s.concat(r.call(arguments)))},c=Math.max(0,e.length-s.length),a=[],u=0;u<c;u++)a.push("$"+u);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var p=function(){};p.prototype=e.prototype,n.prototype=new p,p.prototype=null}return n}},{}],3:[function(t,e,n){"use strict";var r=t("./implementation");e.exports=Function.prototype.bind||r},{"./implementation":2}],4:[function(t,e,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;t[e]=42;for(e in t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},{}],5:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Array.prototype.slice,i=t("./isArguments"),c=Object.prototype.propertyIsEnumerable,a=!c.call({toString:null},"toString"),u=c.call(function(){},"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),y=function(t){if("undefined"==typeof window||!d)return l(t);try{return l(t)}catch(t){return!1}},m=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),s=i(t),c=e&&"[object String]"===o.call(t),l=[];if(!e&&!n&&!s)throw new TypeError("Object.keys called on a non-object");var f=u&&n;if(c&&t.length>0&&!r.call(t,0))for(var d=0;d<t.length;++d)l.push(String(d));if(s&&t.length>0)for(var m=0;m<t.length;++m)l.push(String(m));else for(var h in t)f&&"prototype"===h||!r.call(t,h)||l.push(String(h));if(a)for(var b=y(t),g=0;g<p.length;++g)b&&"constructor"===p[g]||!r.call(t,p[g])||l.push(p[g]);return l};m.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(i(e)?s.call(e):e)}}}else Object.keys=m;return Object.keys||m},e.exports=m},{"./isArguments":6}],6:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},{}],7:[function(t,e,n){"use strict";var r=t("object-keys"),o=t("function-bind"),s=function(t){return void 0!==t&&null!==t},i=t("has-symbols/shams")(),c=Object,a=o.call(Function.call,Array.prototype.push),u=o.call(Function.call,Object.prototype.propertyIsEnumerable),p=i?Object.getOwnPropertySymbols:null;e.exports=function(t,e){if(!s(t))throw new TypeError("target must be an object");var n,o,l,f,d,y,m,h=c(t);for(n=1;n<arguments.length;++n){o=c(arguments[n]),f=r(o);var b=i&&(Object.getOwnPropertySymbols||p);if(b)for(d=b(o),l=0;l<d.length;++l)m=d[l],u(o,m)&&a(f,m);for(l=0;l<f.length;++l)m=f[l],y=o[m],u(o,m)&&(h[m]=y)}return h}},{"function-bind":3,"has-symbols/shams":4,"object-keys":5}],8:[function(t,e,n){"use strict";var r=t("define-properties"),o=t("./implementation"),s=t("./polyfill"),i=t("./shim"),c=s();r(c,{getPolyfill:s,implementation:o,shim:i}),e.exports=c},{"./implementation":7,"./polyfill":9,"./shim":10,"define-properties":1}],9:[function(t,e,n){"use strict";var r=t("./implementation"),o=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),s="";for(var i in o)s+=i;return t!==s},s=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1};e.exports=function(){return Object.assign?o()?r:s()?r:Object.assign:r}},{"./implementation":7}],10:[function(t,e,n){"use strict";var r=t("define-properties"),o=t("./polyfill");e.exports=function(){var t=o();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},{"./polyfill":9,"define-properties":1}],11:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return c(t)||i(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var l=function(t){return t&&t.__esModule?t:{default:t}}(t("object.assign"));!function(){var t=function(t,e){for(var n in t)e&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e},e=function(t,e,n){if(window.XMLHttpRequest){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?e&&e(r.responseText):n&&n(r))},r.open("GET",t,!0),r.send(null)}else console.log("window.XMLHttpRequest is not supported")};Element.prototype.addAttr=function(t,e){e=e.toString();var n,r,o,s,i,c=this.getAttribute(t),a="";if(c&&0!==c.length){n=c.split(" "),r=n.length,o=e.split(" "),s=o.length;for(var u=0;u<r;u++)for(var p=0;p<s;p++)if(n[u]===o[p])return;n=n.concat(o),r=n.length;for(var u=0;u<r;u++)i=" ",u===r-1&&(i=""),a+=n[u]+i;this.setAttribute(t,""),a&&this.setAttribute(t,a)}else this.setAttribute(t,e);return this},Element.prototype.rmAttr=function(t,e){var n,r,o,s,i,c=this.getAttribute(t),a="";if(c)if(e){n=c.split(" "),r=n.length,o=e.split(" "),s=o.length;for(var u=0;u<r;u++)for(var p=0;p<s;p++)n[u]===o[p]&&n.splice(u,1);r=n.length;for(var u=0;u<r;u++)i=" ",u===r-1&&(i=""),a+=n[u]+i;this.setAttribute(t,""),a&&this.setAttribute(t,a)}else this.removeAttribute(t);return this},Element.prototype.addClass=function(t){return this.addAttr("class",t),this},Element.prototype.rmClass=function(t){return this.rmAttr("class",t),this};var n=function(e){var n=document.getElementById("ppms_consent_container");if(n){var s=document.getElementById("ppms_show_detailed"),i=document.getElementById("ppms_hide_detailed"),c=document.getElementById("ppms_detailed_settings"),u=document.getElementById("ppms_agree_all"),f=document.getElementById("ppms_save_choices"),d=document.getElementById("ppms_consent_link"),y=document.getElementById("ppms_consent_error"),m=document.getElementById("ppms_refresh_page"),h=document.getElementById("ppms_consent_fields_name_list").children[0].children;m.onclick=function(){window.location.href=window.location.href};!function(){s.addEventListener("click",function(){s.addClass("ppms_hide"),i.rmClass("ppms_hide"),c.rmClass("ppms_hide")}),i.addEventListener("click",function(){s.rmClass("ppms_hide"),i.addClass("ppms_hide"),c.addClass("ppms_hide")})}();var b=function(){function r(t){a(this,r),this.ppms=ppms,this.getPPMSsettings=this.getPPMSsettings.bind(this),this.displayConsents=this.displayConsents.bind(this),this.updateConsents=this.updateConsents.bind(this),this.confirmConsents=this.confirmConsents.bind(this),this.setState=this.setState.bind(this),this.render=this.render.bind(this),this.state={existingConsents:void 0,createdConsents:void 0,privacySettings:void 0,updateConsents:{consents:{}}}}return p(r,[{key:"setState",value:function(t){(0,l.default)(this.state,t),this.render()}},{key:"getPPMSsettings",value:function(){var t=this;this.ppms.cm.api("getComplianceTypes",function(e){"string"!=typeof e&&t.setState({existingConsents:e})},function(t){}),this.ppms.cm.api("getNewComplianceTypes",function(e){"string"!=typeof e&&e.length>0&&(ppms.cm.api("setInitialComplianceSettings",e,function(){},function(t){}),t.setState({createdConsents:e}))},function(t){}),this.ppms.cm.api("getComplianceSettings",function(e){"string"!=typeof e&&(y.rmClass("ppms_active"),t.setState({privacySettings:e}))},function(t){y.addClass("ppms_active")})}},{key:"componentDidMount",value:function(){this.getPPMSsettings(),this.render()}},{key:"confirmConsents",value:function(t){this.ppms.cm.api("setComplianceSettings",t,function(t){n.rmClass("ppms_active"),y.rmClass("ppms_active")},function(t){n.addClass("ppms_active"),y.addClass("ppms_active")})}},{key:"displayConsents",value:function(){var t=this.state,r=t.createdConsents,s=t.existingConsents,i=t.privacySettings,c=t.updateConsents,a=[];return s&&i?(r&&r.length>0&&n.addClass("ppms_active"),s.map(function(t){e.map(function(e){if(e.getAttribute("data-key")===t){if(e.addClass("ppms_visible"),o(h).map(function(e){e.getAttribute("data-key")===t&&e.addClass("ppms_visible")}),c.consents[t]){var r=c.consents[t];e.setAttribute("status",r&&-1==r.status?0:r.status),r&&-1==r.status&&n.addClass("ppms_active")}else{var s=i.consents[t];e.setAttribute("status",s&&-1==s.status?0:s.status),s&&-1==s.status&&n.addClass("ppms_active"),c.consents[t]={status:parseInt(e.getAttribute("status"))}}a.push(e)}})}),a):a}},{key:"updateConsents",value:function(e){var n=this.state,r=n.privacySettings,o=n.updateConsents,s={key:!1,all:!1},i=t(s,e),c=i.key,a=i.all,u=(0,l.default)({},o);if(c){var p;p=o&&o.consents[c]?o.consents[c].status:r.consents[c]?r.consents[c].status:0,p=1==p?0:1,u.consents["".concat(c)]={status:p}}else if(a){for(var f in u.consents)u.consents["".concat(f)].status=1;this.confirmConsents(u)}this.setState({updateConsents:u})}},{key:"render",value:function(){var t=this,e=this.state.updateConsents;u.onclick=function(){t.updateConsents({all:!0})},f.onclick=function(){t.confirmConsents(e)},d&&d.addEventListener("click",function(){n.addClass("ppms_active"),s.click()}),this.displayConsents().map(function(e){e.onclick=function(){t.updateConsents({key:e.getAttribute("data-key")})},1==e.getAttribute("status")?e.querySelector(".ppms_consent_switcher").addClass("ppms_checked"):e.querySelector(".ppms_consent_switcher").rmClass("ppms_checked")})}}]),r}();if(n&&"object"==("undefined"==typeof ppms?"undefined":r(ppms))){return void new b(e).componentDidMount()}}};!function(t){window.addEventListener("load",function(){if("object"==("undefined"==typeof sevenTag?"undefined":r(sevenTag)))if(t)e(t,function(t){var e=document.createElement("div");if(e.innerHTML=t,sevenTag.privacy&&sevenTag.privacy.enabled){document.body.appendChild(e.children[0]);var r=document.getElementById("ppms_consent-fields").children;n(o(r))}},function(t){console.log(t)});else if(sevenTag.privacy&&sevenTag.privacy.enabled){var s=document.getElementById("ppms_consent-fields").children;n(o(s))}})}(ppms_consenturl)}()},{"object.assign":8}]},{},[11]);